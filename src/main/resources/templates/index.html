<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace = "fragments.html :: head"></head>
<script>
        var slideIndex = 0;
        //ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ í•¨ìˆ˜ START
        function showSlides() {
            var i;
            var slides = document.getElementsByClassName("mySlides");
            var dots = document.getElementsByClassName("dot");
            for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) {slideIndex = 1}
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex-1].style.display = "block";
            dots[slideIndex-1].className += " active";

            function dotClick1(){
               dots[0].className = dots[0].className.replace(" active","");
               dots[1].className = dots[1].className.replace(" active","");
               slides[1].style.display = "none";

               slides[0].style.display = "block";
               dots[0].className += " active";
            }
            function dotClick2(){
               dots[0].className = dots[0].className.replace(" active","");
               dots[1].className = dots[1].className.replace(" active","");
               slides[0].style.display = "none";

               slides[1].style.display = "block";
               dots[1].className += " active";
            }

            dots[0].addEventListener("click",dotClick1);
            dots[1].addEventListener("click",dotClick2);
            setTimeout(showSlides, 5000);
        };
        //ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ í•¨ìˆ˜ END

        window.onload = function(){
            showSlides(); // ë°°ë„ˆ ìŠ¬ë¼ì´ë“œ í•¨ìˆ˜ í˜¸ì¶œ

             var check = document.querySelector('.toggle');
                check.addEventListener("click",function(){
                if($('input:checkbox[name=checkMy]').is(":checked")) {
                    window.location.href = "/?myBoard=on";
                }else{
                     window.location.href = "/";
                }
                });
        };

        //ìƒì„¸ë³´ê¸° ì´ë™
        function detail(boardId) {
            var myBoard = "[[${param.myBoard}]]";
            if(myBoard){
                window.location.href = "/detail?boardId=" + boardId + "&page=" + [[${boardList.number + 1}]] + "&myBoard=on";
            }else {
                window.location.href = "/detail?boardId=" + boardId + "&page=" + [[${boardList.number + 1}]];
            }
        }

           /* ë‚˜ì¤‘ì— ì²´í¬ ì—¬ë¶€ í•„ìš”í•  ë•Œ ì°¸ê³ í•˜ë ¤ê³  ë¯¸ë¦¬ì¨ë´¤ìŒ
            $(function(){
                var check = document.querySelector('.toggle');
                check.addEventListener("click",function(){
                if($('input:checkbox[name=checkMy]').is(":checked")) {
                    console.log("ì²´í¬ë¨");
                }else{
                    console.log("ì²´í¬ì•ˆë¨");
                }
                });
            });
        */
    </script>

<!--</head>-->
<body>
<div class = "wrap">
    <!-- í—¤ë” START -->
    <div th:replace = "fragments.html :: header"></div>
    <!-- í—¤ë” END -->
    <!-- ë°°ë„ˆ START-->
    <div class = "slideshow-container">
        <div class = "mySlides fade">
            <img class = "banner_image1" src = "image/banner1.png">
        </div>
        <div class = "mySlides fade">
            <img class = "banner_image2" src = "image/banner2.png">
        </div>
    </div>

    <div style="text-align:center">
        <span class="dot"></span>
        <span class="dot"></span>
    </div>
    <!-- ë°°ë„ˆ END-->

    <!-- ë©”ì¸ ëª©ë¡ START-->
    <div class = "main">
        <!--  ë¶„ì•¼ë³„ ì„ íƒ ì°½ START-->
        <div class = "main_header">
            <div class = "menu_list">
                <div class = "menu">
                    <i class="fas fa-thin fa-2x fa-calendar-days icon" style = "color: #868E96;"></i>
                    <span>ì „ì²´</span>
                </div>
                <div class = "menu">
                    <i class="fas fa-thin fa-2x fa-icons" style = "color: #868E96;"></i>
                    <span>ìê¸°ê³„ë°œ</span>
                </div>
                <div class = "menu">
                    <i class="fas fa-thin fa-2x fa-people-group" style = "color: #868E96;"></i>
                    <span>ëª¨ì„</span>
                </div>
            </div>

            <div class = "menu_search">
                <div class = 'search_list'>
                    <div>
                        <span>ë‚´ ê¸€ë§Œ ë³´ê¸°</span>
<!--                        <span th:if="${param.myBoard}" onclick="allBoard();">ì „ì²´ ê¸€ ë³´ê¸°</span>-->
                    </div>
                    <div class = "search_toggle">
                        <input th:if = "${param.myBoard}" type = "checkbox" id="toggle" name = 'checkMy' class = "toggle" hidden checked>
                        <input th:unless = "${param.myBoard}" type = "checkbox" id="toggle" name = 'checkMy' class = "toggle" hidden>
                        <label for="toggle" class="toggleSwitch">
                            <span class = "toggleButton"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
        <!-- ë¶„ì•¼ë³„ ì„ íƒ ì°½ END-->
        <!-- ëª©ë¡ ì¡°íšŒ ì°½ START-->
        <ul class = "main_list">
            <li th:each="board: ${boardList}" class = "main_list_item" th:boardId = "${board.id}"th:onclick="detail(this.getAttribute('boardId'));">
                <div class = "item_container">
                    <!-- ê¸€ ë¸ë¥˜  -->
                    <div class = "item_header">
                        <div class = "study_party">
                            <div class = "item_header_text1" th:if = "${board.type} == 'ìê¸°ê³„ë°œ'">
                                âœï¸ ìê¸°ê³„ë°œ
                            </div>
                            <div class = "item_header_text2" th:if = "${board.type} == 'ëª¨ì„'">
                                ğŸ—‚ ëª¨ì„
                            </div>
                        </div>
                    </div>
                    <!-- ìê¸°ê³„ë°œ ì‹¤í–‰ì¼ -->
                    <div class = "item_date">
                        <p>ì‹¤í–‰ì¼ |</p>
                        <p th:text="${board.executionAt}">2023.03.20</p>
                    </div>
                    <!-- ë‘ì¤„ì´ìƒ ë„˜ì–´ê°€ì§€ ì•Šê²Œ ...ì²˜ë¦¬í•´ì•¼í•¨-->
                    <div class = "item_text">
                        <h1 th:text = "${board.title}">ìš´ë™í•˜ë˜ ê³µë¶€í•˜ë˜ ì˜í™”ë³´ë˜ ê±·ë˜ </h1>
                    </div>
                    <div class = "item_todo">
                        <div class = "todo" th:each = "daily: ${board.dailys}" th:text ="${daily}">ì¼ìƒ ë¶„ë¦¬ í›„ ë°˜ë³µë¬¸ ì‚¬ìš©</div>
                    </div>
                    <div class = "item_time">
                        <p>ì†Œìš”ì‹œê°„ |</p>
                        <div class = "time" th:text = "${board.time}">1ì‹œê°„</div>
                    </div>
                    <div class = "user_border"></div>
                    <div class = "item_user">
                        <div class = "user_name">
                            <img src = "image/userIcon.png">
                            <p th:text = "${board.account.name}">ê¹€í•œì„</p>
                        </div>
                        <div class = "like_reply">
                            <img src = "image/comment.png">
                            <p th:text = "${board.commentCount}">ëŒ“ê¸€ ìˆ˜</p>
                        </div>
                    </div>
                </div>
            </li>
<!--            <li class = "main_list_item">-->
<!--                <div class = "item_container">-->
<!--                    &lt;!&ndash; ê¸€ ë¸ë¥˜  &ndash;&gt;-->
<!--                    <div class = "item_header">-->
<!--                        <div class = "study_party">-->
<!--                            <div class = "item_header_text1">-->
<!--                                <i class="fas fa-thin fa-pencil" style="color: #646464; transform: scaleX(-1);"></i> ìê¸°ê³„ë°œ-->
<!--                            </div>-->
<!--                            <div class = "item_header_text2">-->
<!--                                <i class="fas fa-solid fa-car" style="color: #646464; transform: scaleX(-1);"></i> ëª¨ì„-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    &lt;!&ndash; ìê¸°ê³„ë°œ ì‹¤í–‰ì¼ &ndash;&gt;-->
<!--                    <div class = "item_date">-->
<!--                        <p>ì‹¤í–‰ì¼ |</p>-->
<!--                        <p>2023.03.20</p>-->
<!--                    </div>-->
<!--                    &lt;!&ndash; ë‘ì¤„ì´ìƒ ë„˜ì–´ê°€ì§€ ì•Šê²Œ ...ì²˜ë¦¬í•´ì•¼í•¨&ndash;&gt;-->
<!--                    <div class = "item_text">-->
<!--                        <h1>ìš´ë™í•˜ë˜ ê³µë¶€í•˜ë˜ ì˜í™”ë³´ë˜ ê±·ë˜ </h1>-->
<!--                    </div>-->
<!--                    <div class = "item_todo">-->
<!--                        <div class = "todo">ìš´ë™</div>-->
<!--                        <div class = "todo">ê°œë°œê³µë¶€</div>-->
<!--                        <div class = "todo">ê°œë°œê³µë¶€</div>-->
<!--                    </div>-->
<!--                    <div class = "item_time">-->
<!--                        <p>ì†Œìš”ì‹œê°„ |</p>-->
<!--                        <div class = "time">1ì‹œê°„</div>-->
<!--                    </div>-->
<!--                    <div class = "user_border"></div>-->
<!--                    <div class = "item_user">-->
<!--                        <div class = "user_name">-->
<!--                            <img src = "image/userIcon.png">-->
<!--                            <p>ê¹€í•œì„</p>-->
<!--                        </div>-->
<!--                        <div class = "like_reply">-->
<!--                            <img src = "image/heart.png">-->
<!--                            <p>1</p>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </li>-->
        </ul>
        <!-- ëª©ë¡ ì¡°íšŒ ì°½ END-->
        <div class = "page">
            <!-- myBoard ê°’ì´ ìˆì„ë–„ì™€ ì—†ì„ë•Œë¡œ êµ¬ë¶„í•´ ë‚´ ê¸€ë§Œë³´ê¸° êµ¬í˜„   -->
            <ul class="pagination" th:unless="${param.myBoard}">
                <li><a th:href="@{/(page=1)}" class="prev">&laquo;</a></li>
                <li><a th:href="${boardList.first} ? '#' : @{/(page=${boardList.number})}" class="next">&lt;</a></li>

                <li th:each = "page : ${#numbers.sequence(startPage, endPage)}">
                    <span th:if = "${page == boardList.number + 1}" th:text="${page}" class ="activePage"></span>
                    <a th:unless = "${page == boardList.number + 1}" th:href = "@{/(page=${page})}" th:text = "${page}"></a>
                </li>

                <li><a th:href="${boardList.last} ? '#' : @{/(page=${boardList.number + 2})} " class="next">&gt;</a></li>
                <li><a th:href="@{/(page=${boardList.totalPages})}" class="next">&raquo;</a></li>
            </ul>
            <ul class="pagination" th:if="${param.myBoard}">
                <li><a th:href="@{/(page=1,myBoard=on)}" class="prev">&laquo;</a></li>
                <li><a th:href="${boardList.first} ? '#' : @{/(page=${boardList.number},myBoard=on)}" class="next">&lt;</a></li>

                <li th:each = "page : ${#numbers.sequence(startPage, endPage)}">
                    <span th:if = "${page == boardList.number + 1}" th:text="${page}" class ="activePage"></span>
                    <a th:unless = "${page == boardList.number + 1}" th:href = "@{/(page=${page},myBoard=on)}" th:text = "${page}"></a>
                </li>

                <li><a th:href="${boardList.last} ? '#' : @{/(page=${boardList.number + 2})} " class="next">&gt;</a></li>
                <li><a th:href="@{/(page=${boardList.totalPages},myBoard=on)}" class="next">&raquo;</a></li>
            </ul>
        </div>
        <!-- ì²« ë²ˆì§¸ í˜ì´ì§€ë¡œ ì´ë™  -->
<!--        <a th:href = "@{/(page=1)}">First</a>-->
<!--        <a th:href = "${boardList.first} ? '#' : @{/(page=${boardList.number})}">prev</a>-->

<!--        <span th:each="page: ${#numbers.sequence(startPage, endPage)}">-->
<!--            &lt;!&ndash;í˜„ì¬ í˜ì´ì§€ëŠ” ë§í¬ ì—†ì´ ìˆ«ìë§Œ    &ndash;&gt;-->
<!--            <span th:if = "${page == boardList.number + 1}" th:text="${page}"></span>-->

<!--            <span th:unless = "${page == boardList.number + 1}">-->
<!--                <a th:href = "@{/(page=${page})}" th:text = "${page}"></a>-->
<!--            </span>-->
<!--        </span>-->

<!--        <a th:href= "${boardList.last} ? '#' : @{/(page=${boardList.number + 2})}">next</a>-->
<!--        <a th:href = "@{/(page=${boardList.totalPages})}">Last</a>-->
    </div>
    <!-- ë©”ì¸ ëª©ë¡ END-->
</div>
</body>

</html>